(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{10:function(e,t,n){e.exports={makerRed:"#f44336",form:"record_add_form_form__3hOSr",inputs:"record_add_form_inputs__2EOOl",required:"record_add_form_required__1AS96",showModal:"record_add_form_showModal__1eZqh",none:"record_add_form_none__3z1p5"}},11:function(e,t,n){e.exports={laptop:"1300px",summary:"summary_summary__eM3y8",summaryUpper:"summary_summaryUpper__3TCMD",summaryRight:"summary_summaryRight__3kMVX",detail:"summary_detail__3Sn7N",dashed:"summary_dashed__fJi0y",dashed__detail:"summary_dashed__detail__1zOhM"}},12:function(e,t,n){e.exports={makerYellow:"rgba(255, 255, 61, 1)",makerLightGrey:"#e8e7e6",makerPink:"pink",makerLightPink:"#ffeae8",container:"image_file_input_container__lPtUm",input:"image_file_input_input__16xUP",button:"image_file_input_button__2emV8",grey:"image_file_input_grey__2_LQ_",yellow:"image_file_input_yellow__3HQkU",loading:"image_file_input_loading__2T0xD",spin:"image_file_input_spin__kUqas"}},16:function(e,t,n){e.exports={form:"record_edit_form_form__3ldU7",inputs:"record_edit_form_inputs__1fbpI"}},22:function(e,t,n){e.exports={makerRed:"#f44336",makerWhite:"white",modalDiv:"validModal_modalDiv__3EfiL",modalHeader:"validModal_modalHeader__2r6Yn",modalMessage:"validModal_modalMessage__thlTG",modalFooter:"validModal_modalFooter__3KTdp"}},23:function(e,t,n){e.exports={makerGreen:"rgba(25, 184, 103, 1)",makerWhite:"white",makerBlack:"black",makerYellow:"rgba(255, 255, 61, 1)",header:"header_header__1JbO8",logo:"header_logo__p0_Vb",title:"header_title__2Ej7V",logout:"header_logout__UKuJ0"}},24:function(e,t,n){e.exports={receipt:"receipt_receipt__2ymvO",receipt__img:"receipt_receipt__img__Ej0lL",date:"receipt_date__20Nij",para:"receipt_para__RcCOR"}},30:function(e,t,n){e.exports={laptop:"1300px",contents:"maker_contents__3b3w0",display:"maker_display__2NsfQ",editor:"maker_editor__4QTHp"}},38:function(e,t,n){e.exports={button:"button_button__34DMe",buttonSpan:"button_buttonSpan__15ryd"}},4:function(e,t,n){e.exports={makerYellow:"rgba(255, 255, 61, 1)",makerBlack:"black",makerBlue:"undefined",makerWhite:"white",makerGreen:"rgba(25, 184, 103, 1)",mediaQuery:"62rem",login:"login_login__2TnDa",loginLeft:"login_loginLeft__1MCEc",won:"login_won__hrcL8",loginLeftBigFont:"login_loginLeftBigFont__3cbnq",loginLeftsmallFont:"login_loginLeftsmallFont__1dVUX",loginRight:"login_loginRight__3w-id",loginRightFont:"login_loginRightFont__25sga",list:"login_list__152Uz",item:"login_item__Vg6dZ",logoPara:"login_logoPara__Pwybm",button:"login_button__3P3Ka",logo:"login_logo__2HKwU",loginLogo:"login_loginLogo__3flk9",loginLeftFont:"login_loginLeftFont__CXkxk"}},47:function(e,t,n){e.exports={makerGrey:"#626262",app:"app_app__28_5b"}},50:function(e,t,n){e.exports={laptop:"1300px",receipts:"receipts_receipts__BqxsZ"}},51:function(e,t,n){e.exports={laptop:"1300px",modal:"modal_modal__3yUh8"}},60:function(e,t,n){},8:function(e,t,n){e.exports={informations:"editor_informations__sTFTG",textBox:"editor_textBox__1WoVN",uploadIcon:"editor_uploadIcon__VP00u",downLoadIcon:"editor_downLoadIcon__2SI81"}},88:function(e,t,n){"use strict";n.r(t);var a,c=n(3),r=n(1),o=n.n(r),i=n(45),s=n.n(i),l=(n(60),n(36)),u=n(2),d=n(4),j=n.n(d),m=n(0),b=function(e){var t=e.authService,n=Object(u.f)(),a=function(e){n.push({pathname:"/financial_ledger/maker",state:{id:e}})},c=function(e){t.login(e.currentTarget.textContent).then((function(e){return a(e.user.uid)}))};return Object(r.useEffect)((function(){t.onAuthChange((function(e){e&&a(e.uid)}))})),Object(m.jsxs)("section",{className:j.a.login,children:[Object(m.jsxs)("div",{className:j.a.loginLeft,children:[Object(m.jsxs)("span",{className:j.a.loginLeftBigFont,children:["\uc774\ubc88\ub2ec\uc740 \uba39\uc740\uac70",Object(m.jsx)("br",{}),"\ubc16\uc5d0 \uc5c6\ub294\ub370",Object(m.jsx)("br",{}),"\ubc14\ub2e5\ub09c \ub0b4 \ud1b5\uc7a5...",Object(m.jsx)("br",{}),"\uc5bc\ub9c8\ub098 \uc37c\ub354\ub77c?"]}),Object(m.jsx)("span",{className:j.a.loginLeftsmallFont,children:"\ub098\ub9cc\uc758 \uac00\uacc4\ubd80\ub85c \uc18c\ube44\uc2b5\uad00\uc744 \uc27d\uac8c \uc54c\uc544\ubcf4\uc138\uc694!"})]}),Object(m.jsx)("div",{className:j.a.loginRight,children:Object(m.jsxs)("ul",{className:j.a.list,children:[Object(m.jsxs)("li",{className:j.a.item,children:[Object(m.jsx)("img",{className:j.a.logo,src:"images/money.png",alt:"logo"}),Object(m.jsx)("span",{className:j.a.loginRightFont,children:"\ub85c\uadf8\uc778\ud558\uae30"})]}),Object(m.jsx)("li",{className:j.a.item,children:Object(m.jsxs)("button",{className:j.a.button,onClick:c,children:[Object(m.jsx)("img",{src:"images/google.png",alt:"",className:j.a.loginLogo}),Object(m.jsx)("span",{className:j.a.logoPara,children:"Google"})]})}),Object(m.jsx)("li",{className:j.a.item,children:Object(m.jsxs)("button",{className:j.a.button,onClick:c,children:[Object(m.jsx)("img",{src:"images/github.png",alt:"",className:j.a.loginLogo}),Object(m.jsx)("span",{className:j.a.logoPara,children:"Github"})]})})]})})]})},f=n(47),p=n.n(f),_=n(5),O=n(9),h=n.n(O),g=function(e){var t=e.onSubmit,n=e.startRef,a=e.endRef,c=e.onResetDate,o=Object(r.useRef)();return Object(m.jsx)("div",{className:h.a.search__div,children:Object(m.jsxs)("form",{className:h.a.search__form,ref:o,children:[Object(m.jsx)("input",{className:h.a.datesPicker,ref:n,type:"date"}),Object(m.jsx)("input",{className:h.a.datesPicker,ref:a,type:"date"}),Object(m.jsx)("div",{className:h.a.container,children:Object(m.jsx)("img",{className:h.a.searchImg,onClick:function(e){t(e)},src:"images/search.png",alt:"",title:"\uac80\uc0c9\ud558\uae30"})}),Object(m.jsx)("div",{className:h.a.container,children:Object(m.jsx)("img",{className:h.a.searchImg,onClick:function(e){c(e),o.current.reset()},src:"images/circular-refreshment-arrow.png",alt:"",title:"\ub0a0\uc9dc \ucd08\uae30\ud654"})})]})})},x=n(27),v=n(38),N=n.n(v),y=Object(r.memo)((function(e){var t=e.name,n=e.onClick;return Object(m.jsx)("button",{className:N.a.button,onClick:n,children:Object(m.jsx)("span",{className:N.a.buttonSpan,children:t})})})),k=n(16),R=n.n(k),S=Object(r.memo)((function(e){var t=e.FileInput,n=e.record,a=e.updateRecord,o=e.deleteRecord,i=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useRef)(),u=Object(r.useRef)(),d=Object(r.useRef)(),j=n.date,b=n.cost,f=n.category,p=n.etc,_=n.fileName,O=function(e){null!=e.currentTarget&&(e.preventDefault(),a(Object(c.a)(Object(c.a)({},n),{},Object(x.a)({},e.currentTarget.name,e.currentTarget.value))))};return Object(m.jsxs)("form",{className:R.a.form,ref:i,children:[Object(m.jsx)("input",{className:R.a.inputs,ref:s,type:"date",name:"date",value:j,onChange:O}),Object(m.jsx)("input",{className:R.a.inputs,ref:l,type:"number",name:"cost",value:b,onChange:O}),Object(m.jsxs)("select",{ref:u,className:R.a.inputs,name:"category",value:f,onChange:O,children:[Object(m.jsx)("option",{value:""}),Object(m.jsx)("option",{value:"foods",children:"\uc2dd\ube44"}),Object(m.jsx)("option",{value:"rent",children:"\uc8fc\uac70"}),Object(m.jsx)("option",{value:"daily",children:"\uc0dd\ud544\ud488"}),Object(m.jsx)("option",{value:"health/culture",children:"\uac74\uac15/\ubb38\ud654"}),Object(m.jsx)("option",{value:"education",children:"\uad50\uc721"}),Object(m.jsx)("option",{value:"transportation",children:"\uad50\ud1b5"}),Object(m.jsx)("option",{value:"Installment",children:"\ud560\ubd80"}),Object(m.jsx)("option",{value:"etc",children:"\uae30\ud0c0"})]}),Object(m.jsx)("input",{className:R.a.inputs,ref:d,type:"text",name:"etc",value:p,onChange:O}),Object(m.jsx)(t,{name:_,onFileChange:function(e){a(Object(c.a)(Object(c.a)({},n),{},{fileName:e.name,fileURL:e.url}))}}),Object(m.jsx)(y,{name:"\uc0ad\uc81c",onClick:function(e){e.preventDefault(),o(n)}})]})})),w=n(22),F=n.n(w),C=function(e){var t=e.onRequestClose;return Object(m.jsxs)("div",{className:F.a.modalDiv,children:[Object(m.jsx)("header",{className:F.a.modalHeader,children:"\uc548\ub0b4 \uba54\uc138\uc9c0"}),Object(m.jsx)("h1",{className:F.a.modalMessage,children:"\ub0a0\uc9dc\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"}),Object(m.jsx)("footer",{className:F.a.modalFooter,onClick:function(){t()},children:" \uba54\uc138\uc9c0 \ub2eb\uae30"})]})},L=n(10),I=n.n(L),U=function(e){var t=e.FileInput,n=e.onAdd,a=Object(r.useRef)(),c=Object(r.useRef)(),o=Object(r.useRef)(),i=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useState)({fileName:null,fileURL:null}),u=Object(_.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(),f=Object(_.a)(b,2),p=f[0],O=f[1],h=Object(r.useState)(!1),g=Object(_.a)(h,2),x=g[0],v=g[1];return Object(m.jsxs)("form",{className:I.a.form,ref:a,children:[Object(m.jsx)("div",{className:!0===x?I.a.showModal:I.a.none,children:!0===x?Object(m.jsx)(C,{onRequestClose:function(){v(!1),O(!1)}}):null}),Object(m.jsx)("input",{className:!0===p?I.a.required:I.a.inputs,ref:c,type:"date",name:"date"}),Object(m.jsx)("input",{className:I.a.inputs,ref:o,type:"number",name:"cost"}),Object(m.jsxs)("select",{ref:i,className:I.a.inputs,name:"theme",children:[Object(m.jsx)("option",{value:""}),Object(m.jsx)("option",{value:"foods",children:"\uc2dd\ube44"}),Object(m.jsx)("option",{value:"rent",children:"\uc8fc\uac70"}),Object(m.jsx)("option",{value:"daily",children:"\uc0dd\ud544\ud488"}),Object(m.jsx)("option",{value:"health/culture",children:"\uac74\uac15/\ubb38\ud654"}),Object(m.jsx)("option",{value:"education",children:"\uad50\uc721"}),Object(m.jsx)("option",{value:"transportation",children:"\uad50\ud1b5"}),Object(m.jsx)("option",{value:"Installment",children:"\ud560\ubd80"}),Object(m.jsx)("option",{value:"etc",children:"\uae30\ud0c0"})]}),Object(m.jsx)("input",{className:I.a.inputs,ref:s,type:"text",name:"etc"}),Object(m.jsx)(t,{name:d.fileName,onFileChange:function(e){j({fileName:e.name,fileURL:e.url})}}),Object(m.jsx)(y,{name:"\ucd94\uac00",onClick:function(e){e.preventDefault();var t={id:Date.now(),date:c.current.value,cost:o.current.value||"",category:i.current.value||"",etc:s.current.value||"",fileName:d.fileName||"",fileURL:d.fileURL||""};if(""===t.date)return O(!0),void v(!0);a.current.reset(),j({fileName:null,fileURL:null}),n(t)}})]})},B=n(8),T=n.n(B),P=Object(r.memo)((function(e){var t=e.onAsc,n=e.onDesc,a=e.FileInput,c=e.records,r=e.onUpdate,o=e.addRecord,i=e.updateRecord,s=e.deleteRecord;return Object(m.jsxs)("div",{className:T.a.informations,children:[Object(m.jsxs)("div",{className:T.a.informations__header,children:[Object(m.jsxs)("span",{className:T.a.textBox,children:["\ub0a0\uc9dc",Object(m.jsx)("img",{className:T.a.uploadIcon,src:"images/upload.png",alt:"\uc624\ub984\ucc28\uc21c",onClick:function(){t()}}),Object(m.jsx)("img",{className:T.a.downLoadIcon,src:"images/download.png",alt:"\ub0b4\ub9bc\ucc28\uc21c",onClick:function(){n()}})]}),Object(m.jsx)("span",{className:T.a.textBox,children:"\uc9c0\ucd9c\ube44\uc6a9"}),Object(m.jsx)("span",{className:T.a.textBox,children:"\ubd84\ub958"}),Object(m.jsx)("span",{className:T.a.textBox,children:"\uba54\ubaa8"}),Object(m.jsx)("span",{className:T.a.textBox,children:"\uc0ac\uc9c4\ucca8\ubd80"}),Object(m.jsx)("span",{className:T.a.textBox,children:"\ucd94\uac00/\uc0ad\uc81c"})]}),Object(m.jsx)(U,{FileInput:a,onAdd:o}),Object.keys(c).map((function(e){return Object(m.jsx)(S,{FileInput:a,onUpdate:r,record:c[e],updateRecord:i,deleteRecord:s},e)}))]})})),D=n(23),M=n.n(D),A=Object(r.memo)((function(e){var t=e.onLogout;return Object(m.jsxs)("header",{className:M.a.header,children:[t&&Object(m.jsx)("button",{className:M.a.logout,onClick:t,children:"\ub85c\uadf8\uc544\uc6c3"}),Object(m.jsx)("img",{className:M.a.logo,src:"./images/money.png",alt:"logo"}),Object(m.jsx)("h1",{className:M.a.title,children:"Financial Ledger"})]})})),G=n(48),q=n(24),E=n.n(q),V=Object(r.memo)((function(e){var t=e.record,n=e.showModal,a=t.fileURL,c=t.etc,r=t.date,o=a;return Object(m.jsxs)("div",{className:E.a.receipt,children:[Object(m.jsx)("p",{className:E.a.date,children:r}),Object(m.jsx)("img",{className:E.a.receipt__img,src:o,alt:"",onClick:function(e){n(e)}}),Object(m.jsx)("p",{className:E.a.para,children:c})]})})),H=n(49),Q=n.n(H),J=n(50),W=n.n(J),z=(n(81),n(82),n(51)),K=n.n(z),Y=function(e){var t=e.onRequestClose,n=e.img;return Object(m.jsx)("img",{className:K.a.modal,src:n,alt:"",onClick:function(){t()}})},X=n(28),Z=n.n(X),$=n(52).a.div(a||(a=Object(G.a)(["\n.slick-prev:before {\n  color: black; \n}\n.slick-next:before {\n  color: black;\n}"]))),ee=function(e){var t=e.records,n=Object(r.useState)(null),a=Object(_.a)(n,2),o=a[0],i=a[1],s=Object(r.useState)(!1),l=Object(_.a)(s,2),u=l[0],d=l[1],j=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return""!==e.fileURL})).map((function(e){return e})),b=function(e){d(!0);var t=e.target.src;i(t)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:W.a.receipts,children:[!1===u?null:Object(m.jsx)(Y,{img:o,onRequestClose:function(){d(!1)}}),Object(m.jsx)($,{children:Object(m.jsx)(Q.a,Object(c.a)(Object(c.a)({},{dots:!0,infinite:!0,slidesToShow:3,slidesToScroll:3,speed:2e3}),{},{slidesToShow:Math.min(j.length,3),children:Object.keys(t).map((function(e){return t[e]})).filter((function(e){return""!==e.fileURL})).map((function(e){return Object(m.jsx)(V,{record:e,showModal:b},Z()())}))}))})]})})},te=n(11),ne=n.n(te),ae=function(e){var t=e.records,n=e.dates,a=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);a=a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var c=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return""!==e.category})).map((function(e){return e.cost})).sort((function(e,t){return t-e}));c=c[0]&&c[0].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var r=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"foods"===e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);r=r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var o=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"rent"===e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);o=o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var i=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"daily"===e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);i=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var s=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"health/culture"===e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);s=s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var l=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"education"===e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);l=l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var u=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"transportation"===e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);u=u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var d=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"Installment"===e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);d=d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var j=Object.keys(t).map((function(e){return t[e]})).filter((function(e){return"etc"===e.category})).map((function(e){return Number(e.cost)})).reduce((function(e,t){return e+t}),0);return j=j.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:ne.a.summary,children:[""===n.start&""===n.end?Object(m.jsxs)("div",{className:ne.a.summaryUpper,children:[Object(m.jsx)("span",{children:"\ud604\uc7ac\uae4c\uc9c0 \uc9c0\ucd9c \ub0b4\uc5ed\uc740"}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:ne.a.dashed})]}):null,""!==n.start||""!==n.end?Object(m.jsxs)("div",{className:ne.a.summaryUpper,children:[Object(m.jsxs)("span",{children:[n.start&&"".concat(n.start," \ubd80\ud130")," ",""!==n.end&&"".concat(n.end," \uae4c\uc9c0")," \uc9c0\ucd9c \ub0b4\uc5ed\uc740"]})," ",Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:ne.a.dashed})]}):null,Object(m.jsxs)("div",{className:ne.a.detail,children:[0!==Number(r)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:["\uc2dd\ube44 Total: ",r,"\uc6d0"]}),Object(m.jsx)("br",{})]}),0!==Number(o)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:["\uc8fc\uac70\ube44\uc6a9 Total: ",o,"\uc6d0"]}),Object(m.jsx)("br",{})]}),0!==Number(i)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:["\uc0dd\ud544\ud488 Total: ",i,"\uc6d0"]}),Object(m.jsx)("br",{})]}),0!==Number(s)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:["\ubb38\ud654/\uc5ec\uac00: ",s,"\uc6d0"]}),Object(m.jsx)("br",{})]}),0!==Number(l)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:["\uad50\uc721\ube44 Total: ",l,"\uc6d0"]}),Object(m.jsx)("br",{})]}),0!==Number(u)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:["\uad50\ud1b5\ube44 Total: ",u,"\uc6d0"]}),Object(m.jsx)("br",{})]}),0!==Number(d)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:["\ud560\ubd80 Total: ",d,"\uc6d0"]}),Object(m.jsx)("br",{})]}),0!==Number(j)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{children:["\uae30\ud0c0 Total: ",j,"\uc6d0"]}),Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:ne.a.dashed__detail}),Object(m.jsx)("br",{}),Object(m.jsxs)("span",{children:["\ucd1d \uc9c0\ucd9c: ",a,"\uc6d0"]}),Object(m.jsx)("br",{}),Object(m.jsxs)("span",{children:["\uac00\uc7a5 \ud070 \uc9c0\ucd9c: ",c,"\uc6d0"]}),Object(m.jsx)("br",{})]})]})})},ce=n(30),re=n.n(ce),oe=Object(r.memo)((function(e){var t,n=e.FileInput,a=e.authService,o=e.recordRepository,i=Object(u.f)(),s=null===i||void 0===i||null===(t=i.location)||void 0===t?void 0:t.state,l=Object(r.useState)(s&&s.id),d=Object(_.a)(l,2),j=d[0],b=d[1],f=Object(r.useState)({}),p=Object(_.a)(f,2),O=p[0],h=p[1],x=Object(r.useState)({}),v=Object(_.a)(x,2),N=v[0],y=v[1],k=Object(r.useState)({}),R=Object(_.a)(k,2),S=R[0],w=R[1],F=Object(r.useState)(!1),C=Object(_.a)(F,2),L=C[0],I=C[1],U=Object(r.useState)({start:"",end:""}),B=Object(_.a)(U,2),T=B[0],D=B[1],M=Object(r.useRef)(),G=Object(r.useRef)(),q=Object(r.useCallback)((function(){a.logout()}),[a]);Object(r.useEffect)((function(){if(j){if(!0===L){var e=o.syncRecords(j,(function(e){w(e),y(e)}));return function(){return e()}}var t=o.syncRecords(j,(function(e){w(e),y(e),h(e)}));return function(){return t()}}}),[j,o,L]),Object(r.useEffect)((function(){a.onAuthChange((function(e){e?b(e.uid):i.push("/financial_ledger/")}))}),[j,i,a]);var E=function(e){e.preventDefault(),M=M.current.value,G=G.current.value,V(M,G),H(M,G)},V=function(e,t){D({start:e,end:t})},H=function(e,t){if(y(Object(c.a)({},S)),I(!0),""===e&""===t)y(Object(c.a)({},S)),h(N);else if(""!==e&""===t){for(var n in y(Object(c.a)({},S)),N)N[n].date>=e||delete N[n];h(N)}else if(""===e&""!==t){for(var a in y(Object(c.a)({},S)),N)N[a].date<=t||delete N[a];h(N)}else if(""!==e&""!==t){for(var r in y(Object(c.a)({},S)),N)N[r].date>=e&&N[r].date<=t||delete N[r];h(N)}},Q=function(e){h((function(t){var n=Object(c.a)({},t);return n[e.id]=e,n})),o.saveRecord(j,e)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(A,{onLogout:q}),Object(m.jsxs)("section",{className:re.a.contents,children:[Object(m.jsx)("div",{children:Object(m.jsx)(g,{onSubmit:E,startRef:M,endRef:G,onResetDate:function(e){e.preventDefault(),V(M="",G=""),H(M,G)}})}),Object(m.jsxs)("div",{className:re.a.display,children:[Object(m.jsx)(ee,{records:O},Z()()),Object(m.jsx)(ae,{records:O,dates:T})]}),Object(m.jsx)("div",{className:re.a.editor,children:Object(m.jsx)(P,{onAsc:function(){y(Object(c.a)({},S)),h(N),I(!0);for(var e=Object.keys(O).map((function(e){return O[e]})).sort((function(e,t){return e.date>t.date?1:e.date===t.date?0:-1})).map((function(e){return e})),t=e.map((function(e){return e.id})),n={},a=0;a<e.length;a++)""===e[a].date?delete e[a]:n[t[a]]=e[a];h(n)},onDesc:function(){y(Object(c.a)({},S)),h(N),I(!0);for(var e=Object.keys(O).map((function(e){return O[e]})).sort((function(e,t){return e.date>t.date?-1:e.date===t.date?0:1})).map((function(e){return e})),t=e.map((function(e){return e.id})),n={},a=0;a<e.length;a++)""===e[a].date?delete e[a]:n[t[a]]=e[a];h(n)},FileInput:n,records:O,onUpdate:H,onSubmit:E,addRecord:Q,updateRecord:Q,deleteRecord:function(e){h((function(t){var n=Object(c.a)({},t);return delete n[e.id],n})),o.removeRecord(j,e)}})})]})]})}));var ie=function(e){var t=e.FileInput,n=e.authService,a=e.recordRepository;return Object(m.jsx)(l.a,{children:Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{exact:!0,path:"/financial_ledger/",children:Object(m.jsx)("div",{className:p.a.app,children:Object(m.jsx)(b,{authService:n})})}),Object(m.jsx)(u.a,{path:"/financial_ledger/maker",children:Object(m.jsx)(oe,{FileInput:t,authService:n,recordRepository:a})})]})})},se=n(13),le=n(14),ue=n(31),de=n.n(ue),je=(n(83),n(85),de.a.initializeApp({apiKey:"AIzaSyA5m5B2M48JVb1LPMPW_QEvAhQ7D3O0ylc",authDomain:"moneybook-ba89a.firebaseapp.com",databaseURL:"https://moneybook-ba89a-default-rtdb.firebaseio.com",projectId:"moneybook-ba89a"})),me=je.auth(),be=je.database(),fe=new de.a.auth.GoogleAuthProvider,pe=new de.a.auth.GithubAuthProvider,_e=function(){function e(){Object(se.a)(this,e)}return Object(le.a)(e,[{key:"login",value:function(e){var t=this.getProvider(e);return me.signInWithPopup(t)}},{key:"onAuthChange",value:function(e){me.onAuthStateChanged((function(t){e(t)}))}},{key:"logout",value:function(){me.signOut()}},{key:"getProvider",value:function(e){switch(e){case"Google":return fe;case"Github":return pe;default:throw new Error("Not supported provider ".concat(e))}}}]),e}(),Oe=n(15),he=n.n(Oe),ge=n(29),xe=function(){function e(){Object(se.a)(this,e)}return Object(le.a)(e,[{key:"upload",value:function(){var e=Object(ge.a)(he.a.mark((function e(t){var n,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),n.append("upload_preset","jwa0jjhd"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dedew4rko/upload",{method:"POST",body:n});case 5:return a=e.sent,e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ve=n(12),Ne=n.n(ve),ye=Object(r.memo)((function(e){var t=e.imageUploader,n=e.name,a=e.onFileChange,c=Object(r.useState)(!1),o=Object(_.a)(c,2),i=o[0],s=o[1],l=Object(r.useRef)(),u=function(){var e=Object(ge.a)(he.a.mark((function e(n){var c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,t.upload(n.target.files[0]);case 3:c=e.sent,s(!1),a({name:c.original_filename,url:c.url});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:Ne.a.container,children:[Object(m.jsx)("input",{ref:l,className:Ne.a.input,type:"file",accept:"image/*",name:"file",onChange:u}),!i&&Object(m.jsxs)("button",{className:"".concat(Ne.a.button," ").concat(n?Ne.a.yellow:Ne.a.grey),onClick:function(e){e.preventDefault(),l.current.click()},children:["  ",n||"\uc0ac\uc9c4\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","  "]}),i&&Object(m.jsx)("div",{className:Ne.a.loading})]})})),ke=function(){function e(){Object(se.a)(this,e)}return Object(le.a)(e,[{key:"syncRecords",value:function(e,t){var n=be.ref("".concat(e,"/records"));return n.on("value",(function(e){var n=e.val();n&&t(n)})),function(){return n.off()}}},{key:"saveRecord",value:function(e,t){be.ref("".concat(e,"/records/").concat(t.id)).set(t)}},{key:"removeRecord",value:function(e,t){be.ref("".concat(e,"/records/").concat(t.id)).remove()}}]),e}(),Re=new _e,Se=new xe,we=new ke,Fe=Object(r.memo)((function(e){return Object(m.jsx)(ye,Object(c.a)(Object(c.a)({},e),{},{imageUploader:Se}))}));s.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(ie,{authService:Re,recordRepository:we,FileInput:Fe})}),document.getElementById("root"))},9:function(e,t,n){e.exports={search__div:"date_search_form_search__div__3gcHv",search__form:"date_search_form_search__form__2TbSg",datesPicker:"date_search_form_datesPicker__N1AFx",container:"date_search_form_container__CVxum",searchImg:"date_search_form_searchImg__1YDR7"}}},[[88,1,2]]]);
//# sourceMappingURL=main.47c054c7.chunk.js.map